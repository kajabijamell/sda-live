<% if view == 'grid' %>
  <div class=" item col-md-6 col-lg-4 mb-4">
    <div class="card card-header-actions shadow-none">
      <div class="card-header indigo-text">
        <%= link_to sermon.title.truncate(30), edit_admin_media_sermon_path(sermon), class: "text-decoration-none",
        title: sermon.title %>
        <div class="dropdown no-caret">
          <button class="actions-dd border-0 dropdown-toggle py-1 px-2 rounded" id="dropdownMenuButton" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Actions <i class="fa fa-caret-down ml-2" aria-hidden="true"></i>
          </button>
          <div class="dropdown-menu dropdown-menu-right animated--fade-in-up bg-zircon">
            <%= link_to edit_admin_media_sermon_path(sermon), class: 'dropdown-item' do %>
              <div class="indigo-text w-100">Edit</div>
              <div class="dropdown-item-icon">
                <i class="fa fa-edit indigo-text"></i>
              </div>
            <% end %>
            <div class="dropdown-divider"></div>
            <% if sermon.video.present? %>
              <button class="dropdown-item clipboard-copy-btn" data-clipboard-text="<%= sermon.get_video_url %>">
                <div class="indigo-text w-100">Copy Url</div>
                <div class="dropdown-item-icon">
                  <i class="fa fa-clone indigo-text"></i>
                </div>
              </button>
              <div class="dropdown-divider"></div>
              <%= link_to sermon.video.url(response_content_disposition: ContentDisposition.attachment), class: 'dropdown-item', target: '_blank' do %>

                <div class="indigo-text w-100">Download</div>
                <div class="dropdown-item-icon">
                  <i class="fa fa-download indigo-text"></i>
                </div>
              <% end %>
            <% end %>
            <div class="dropdown-divider"></div>
            <%= link_to sermon, method: :delete, class: 'dropdown-item', data: { confirm: 'Are you sure ?' }  do %>
              <div class="indigo-text w-100">Delete</div>
              <div class="dropdown-item-icon">
                <i class="fa fa-trash-alt indigo-text"></i>
              </div>
            <% end %>
          </div>
        </div>
      </div>
      <% if sermon.get_video_url.present? %>
        <div id="video-player-<%= sermon.id %>"></div>
        <script>
          playerInstance = jwplayer('video-player-<%= sermon.id %>');
          playerInstance.setup({
            file: '<%= raw(sermon.get_video_url) %>',
            image: '<%= raw(sermon.get_thumbnail_url) %>',
            controls: false
          })
        </script>
      <% end %>
      <div class="card-footer d-flex align-items-center justify-content-between">
        <%= form_with(class: 'form', model: sermon, local: true) do |form| %>
          <div class="custom-control custom-switch">
            <%= form.check_box :published, { id: sermon.id, class: 'custom-control-input', onchange: 'this.form.submit()' } %>
            <label class="custom-control-label blue-text font-weight-500" for="<%= sermon.id %>">Publish</label>
          </div>
        <% end %>
        <small class="m-0 text-muted font-weight-500">Upload Date: <%= sermon.created_at.strftime("%m/%d/%Y") %></small>
      </div>
    </div>
  </div>
<% else %>
  <tr>
    <td class="text-black">
      <% if sermon.get_video_url.present? %>
        <div id="video-player-<%= sermon.id %>"></div>
        <script>
            playerInstance = jwplayer('video-player-<%= sermon.id %>');
            playerInstance.setup({
                file: '<%= raw(sermon.get_video_url) %>',
                image: '<%= raw(sermon.get_thumbnail_url) %>',
                controls: false
            })
        </script>
      <% else %>
        Nil
      <% end %>
    </td>
    <td class="text-black" title="<%= sermon.title if sermon.title.length > 50 %>"><%= sermon.title.truncate(50) %></td>
    <td class="text-black">
      <%= form_with(class: 'form', model: sermon, url: admin_media_sermon_path(id: sermon.id, view: view), local: true) do |form| %>
        <div class="custom-control custom-switch">
          <%= form.check_box :published, { id: sermon.id, class: 'custom-control-input', onchange: 'this.form.submit()' } %>
          <label class="custom-control-label blue-text font-weight-500" for="<%= sermon.id %>">Publish</label>
        </div>
      <% end %>
    </td>
    <td class="text-black"><%= sermon.created_at.strftime("%m/%d/%Y") %></td>
    <td>
      <% if sermon.video.present? %>
        <a class="mr-3 clipboard-copy-btn" data-clipboard-text="<%= sermon.get_video_url %>">
          <i class="fa fa-clone indigo-text"></i>
        </a>
        <%= link_to sermon.video.url(response_content_disposition: ContentDisposition.attachment), class: 'mr-3', target: '_blank' do %>
          <i class="fa fa-download indigo-text"></i>
        <% end %>
      <% end %>
      <%= link_to edit_admin_media_sermon_path(sermon), class: 'mr-3' do %>
        <i class="fas fa-edit indigo-text"></i>
      <% end %>
      <%= link_to sermon, method: :delete, data: { confirm: 'Are you sure ?' }  do %>
        <i class="fas fa-trash-alt indigo-text"></i>
      <% end %>
    </td>
  </tr>
<% end %>
